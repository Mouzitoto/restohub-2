# Шаг 6.5: Лендинг для партнеров

## Описание
Реализация лендинга для привлечения владельцев ресторанов и партнеров. Лендинг содержит информацию о преимуществах системы, форму регистрации с подтверждением email, кнопки для входа и регистрации. Ссылка "Стать нашим партнером" в client-web ведет на лендинг.

## Технологии
- **React** - основной фреймворк (такой же стек как у всех веб-проектов)
- **React Router** - для навигации
- **Axios/Fetch** - для API запросов
- **Form validation** - валидация форм

## Задачи

### 1. Добавление ссылки "Стать нашим партнером" в client-web

#### 1.1. Размещение ссылки
- Добавить ссылку "Стать нашим партнером" в header или footer главной страницы client-web
- Ссылка ведет на `/partner` или `/partner/landing`
- Ссылка должна быть заметной и привлекательной

### 2. Структура лендинга

#### 2.1. Header лендинга
- Кнопка "Вход" - редирект на страницу входа admin-web (`/admin/login` или соответствующий URL)
- Кнопка "Регистрация" - открывает форму регистрации (модальное окно или переход на страницу регистрации)
- Логотип Resto-Hub (кликабельный, ведет на главную страницу client-web)

#### 2.2. Основной контент лендинга
- **Hero секция:**
  - Заголовок: "Присоединяйтесь к Resto-Hub"
  - Подзаголовок: краткое описание преимуществ
  - Кнопка "Начать регистрацию" (открывает форму регистрации)
  
- **Секция преимуществ:**
  - Информация о бонусах использования системы:
    - Управление бронированиями в одном месте
    - Интеграция с WhatsApp для подтверждений
    - Персонализированная страница ресторана
    - Аналитика и статистика
    - Управление меню и акциями
    - И другие преимущества
  - Визуальное оформление: иконки, карточки, изображения

- **Секция "Как это работает":**
  - Пошаговое описание процесса регистрации и использования системы
  - Визуальные элементы (иконки, стрелки)

- **Секция отзывов (опционально):**
  - Отзывы существующих партнеров
  - Кейсы успешного использования

- **CTA секция:**
  - Призыв к действию: "Готовы начать?"
  - Кнопка "Зарегистрироваться"

#### 2.3. Footer лендинга
- Контактная информация
- Ссылки на социальные сети (если есть)
- Ссылка на главную страницу client-web

### 3. Форма регистрации

#### 3.1. Шаг 1: Заполнение данных
**Поля формы:**
- `email` - text input (required, email format)
- `password` - password input (required, min 8 символов)
- `confirmPassword` - password input (required, должен совпадать с password)
- `agreeToTerms` - checkbox (required, должен быть отмечен)

**Элементы формы:**
- Текст оферты:
  - Отображается в модальном окне или раскрывающемся блоке
  - Кнопка "Показать оферту" / "Скрыть оферту"
  - Текст оферты загружается через API: `GET /admin-api/auth/terms`
  - Заглушка текста оферты (пока не реализован бэкенд)
- Кнопка "Далее" - отправляет форму на `POST /admin-api/auth/register`
- Кнопка "Отменить" - закрывает форму / возвращает на лендинг

**Валидация:**
- Email: проверка формата, обязательное поле
- Password: минимум 8 символов, обязательное поле
- ConfirmPassword: должен совпадать с password
- AgreeToTerms: должен быть отмечен
- Валидация на фронтенде (до отправки)
- Отображение ошибок валидации под полями

**Обработка ответа:**
- При успехе (200 OK): переход на шаг 2 (подтверждение email)
- При ошибке (400/409): отображение сообщения об ошибке

#### 3.2. Шаг 2: Подтверждение email
**Элементы экрана:**
- Текст: "На вашу почту отправлено письмо с кодом подтверждения"
- Текст: "Введите код из письма"
- Поле для ввода кода: text input (4 символа, только цифры)
- Кнопка "Далее" - отправляет код на `POST /admin-api/auth/verify-email`
- Кнопка "Отправить код повторно" - отправляет запрос на `POST /admin-api/auth/resend-verification-code`
- Кнопка "Назад" - возврат на шаг 1

**Валидация:**
- Код: 4 символа, только цифры, обязательное поле
- **Заглушка:** Код всегда `1234` (пока не реализована отправка email)

**Обработка ответа:**
- При успехе (200 OK): переход на шаг 3 (успешная регистрация)
- При ошибке (400/404): отображение сообщения об ошибке (неверный код, код истек и т.д.)

#### 3.3. Шаг 3: Успешная регистрация
**Элементы экрана:**
- Иконка успеха (галочка, checkmark)
- Заголовок: "Регистрация завершена!"
- Текст: "Вы успешно зарегистрировались в системе Resto-Hub"
- Кнопка "Перейти на страницу входа" - редирект на страницу входа admin-web (`/admin/login`)

### 4. Интеграция с API

#### 4.1. API endpoints
- `GET /admin-api/auth/terms` - получение текста оферты
- `POST /admin-api/auth/register` - регистрация партнера
- `POST /admin-api/auth/verify-email` - подтверждение email
- `POST /admin-api/auth/resend-verification-code` - повторная отправка кода

#### 4.2. Обработка ошибок
- Отображение понятных сообщений об ошибках
- Обработка сетевых ошибок
- Обработка ошибок валидации (400 Bad Request)
- Обработка конфликтов (409 Conflict - email уже зарегистрирован)

#### 4.3. Loading states
- Индикатор загрузки при отправке форм
- Блокировка кнопок во время отправки
- Отображение состояния загрузки

### 5. UX улучшения

#### 5.1. Навигация между шагами
- Сохранение состояния формы при переходе между шагами
- Возможность вернуться на предыдущий шаг
- Индикатор прогресса (шаг 1 из 3, шаг 2 из 3 и т.д.)

#### 5.2. Визуальная обратная связь
- Успешные сообщения (зеленый цвет)
- Сообщения об ошибках (красный цвет)
- Валидация полей в реальном времени
- Подсветка активных полей

#### 5.3. Адаптивность
- Responsive дизайн для мобильных устройств
- Адаптация формы для разных размеров экрана
- Touch-friendly интерфейс

### 6. Редиректы

#### 6.1. Кнопка "Вход"
- Редирект на страницу входа admin-web
- URL: `/admin/login` или соответствующий URL admin-web

#### 6.2. Кнопка "Перейти на страницу входа"
- После успешной регистрации
- Редирект на страницу входа admin-web
- URL: `/admin/login` или соответствующий URL admin-web

### 7. Состояние формы

#### 7.1. Управление состоянием
- Сохранение email при переходе между шагами
- Сохранение состояния формы (если пользователь вернется)
- Очистка состояния после успешной регистрации

#### 7.2. Защита от повторной отправки
- Блокировка кнопок после отправки
- Предотвращение повторной отправки формы
- Таймер для повторной отправки кода (например, через 60 секунд)

## Результаты выполнения шага

По итогу выполнения этого шага должны быть созданы следующие артефакты и выполнены следующие проверки:

### Созданные компоненты:
1. ✅ Landing Page Component:
   - Header с кнопками "Вход" и "Регистрация"
   - Hero секция
   - Секция преимуществ
   - Секция "Как это работает"
   - CTA секция
   - Footer

2. ✅ Registration Form Component:
   - Шаг 1: Форма регистрации (email, password, confirmPassword, agreeToTerms)
   - Шаг 2: Подтверждение email (ввод кода)
   - Шаг 3: Успешная регистрация
   - Навигация между шагами
   - Индикатор прогресса

3. ✅ Terms Modal/Component:
   - Отображение текста оферты
   - Загрузка текста через API
   - Модальное окно или раскрывающийся блок

4. ✅ API Service:
   - Методы для работы с API регистрации
   - Обработка ошибок
   - Loading states

5. ✅ Ссылка "Стать нашим партнером":
   - Добавлена в client-web (header или footer)
   - Редирект на лендинг

### Функциональные проверки:
1. ✅ Лендинг отображается корректно:
   - Все секции видны
   - Кнопки работают
   - Ссылки ведут на правильные страницы

2. ✅ Форма регистрации работает:
   - Валидация всех полей
   - Отображение ошибок
   - Переход между шагами
   - Сохранение состояния

3. ✅ Интеграция с API работает:
   - Получение текста оферты
   - Регистрация партнера
   - Подтверждение email (код 1234)
   - Повторная отправка кода

4. ✅ Редиректы работают:
   - Кнопка "Вход" ведет на admin-web
   - Кнопка "Перейти на страницу входа" ведет на admin-web

5. ✅ UX работает:
   - Loading states отображаются
   - Ошибки обрабатываются корректно
   - Форма адаптивна для мобильных устройств

6. ✅ Ссылка "Стать нашим партнером" работает:
   - Отображается в client-web
   - Ведет на лендинг

### Критерии готовности:
- ✅ Лендинг создан и отображается корректно
- ✅ Форма регистрации работает со всеми шагами
- ✅ Интеграция с API работает
- ✅ Валидация и обработка ошибок работают
- ✅ Редиректы на admin-web работают
- ✅ Ссылка "Стать нашим партнером" добавлена в client-web
- ✅ Все функциональные проверки пройдены успешно

**Шаг считается выполненным**, когда:
- Лендинг полностью функционален
- Форма регистрации работает со всеми шагами
- Интеграция с API работает корректно
- Все редиректы работают
- Все функциональные проверки пройдены успешно

