# Шаг 4.12: Клиенты

## Описание
Интерфейс для просмотра информации о клиентах, истории бронирований и предзаказов.

## Задачи

### 1. Страница клиентов

#### 1.1. Компонент ClientsPage
**Маршрут:** `/clients` (защищенный)

**Структура:**
- Заголовок: "Клиенты"
- Панель поиска и фильтров:
  - Поиск по имени или телефону
  - Сортировка (по дате последнего визита, количеству бронирований)
- Таблица клиентов
- Пагинация

#### 1.2. Таблица клиентов
**Компонент:** ClientsTable

**Колонки:**
- Телефон
- Имя (если есть)
- Количество бронирований
- Количество предзаказов
- Дата последнего визита
- Действия (кнопка "Подробнее")

**Логика загрузки:**
- GET запрос на `/admin-api/r/:id/client` с фильтрами

#### 1.3. Детальная информация о клиенте
**Модальное окно:** ClientDetailModal

**Секции:**
1. **Базовая информация:**
   - Телефон (кликабельный)
   - Имя
   - Дата первого бронирования
   - Дата последнего бронирования
   - Общее количество бронирований
   - Общее количество предзаказов
   - Общая потраченная сумма (если есть)

2. **Статистика:**
   - Среднее количество персон
   - Средний чек предзаказов
   - Любимый стол (если есть)
   - Любимое блюдо (если есть)

3. **История бронирований:**
   - Таблица с бронированиями
   - Фильтрация по статусу и датам
   - Клик на бронирование → открыть детальную информацию

4. **История предзаказов:**
   - Таблица с предзаказами
   - Аналогично истории бронирований

**Логика загрузки:**
- GET запрос на `/admin-api/r/:id/client/:clientId` для базовой информации
- GET запрос на `/admin-api/r/:id/client/:clientId/booking` для истории бронирований
- GET запрос на `/admin-api/r/:id/client/:clientId/pre-order` для истории предзаказов

### 2. Интеграция с API
- `GET /admin-api/r/:id/client` - список клиентов
- `GET /admin-api/r/:id/client/:clientId` - детальная информация
- `GET /admin-api/r/:id/client/:clientId/booking` - история бронирований
- `GET /admin-api/r/:id/client/:clientId/pre-order` - история предзаказов

## Результаты выполнения шага

По итогу выполнения этого шага должны быть созданы следующие артефакты и выполнены следующие проверки:

### Созданные компоненты:
1. ✅ Страница клиентов:
   - Список клиентов с поиском и фильтрацией
   - Детальная информация о клиенте
   - История бронирований
   - История предзаказов

2. ✅ Интеграция с API:
   - Запросы к `/admin-api/r/:id/client`
   - Обработка ответов
   - Обработка ошибок

### Функциональные проверки:
1. ✅ Просмотр клиентов работает:
   - Список отображается корректно
   - Поиск работает
   - Фильтрация работает

2. ✅ Детальная информация работает:
   - Информация о клиенте отображается
   - История бронирований отображается
   - История предзаказов отображается

### Критерии готовности:
- ✅ Все компоненты созданы и работают
- ✅ Интеграция с API работает
- ✅ Поиск и фильтрация работают
- ✅ Все функциональные проверки пройдены успешно

**Шаг считается выполненным**, когда все компоненты работают и все функциональные проверки пройдены успешно.

